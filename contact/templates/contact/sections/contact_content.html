{% if contact_content %}
<div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-start">
    <!-- Contact Form (First on Mobile, Second on Desktop) -->
    <div class="bg-white/40 backdrop-blur-xl p-10 lg:p-12 rounded-[3rem] border border-border shadow-2xl lg:order-2">
        <form class="space-y-8">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="space-y-2">
                    <label class="text-[10px] font-bold uppercase tracking-widest text-muted-foreground ml-1">{{ contact_content.form.name_label }}</label>
                    <input type="text" placeholder="{{ contact_content.form.name_placeholder }}" class="w-full bg-white/50 border border-border rounded-xl px-6 py-4 focus:outline-none focus:border-accent transition-all text-sm">
                </div>
                <div class="space-y-2">
                    <label class="text-[10px] font-bold uppercase tracking-widest text-muted-foreground ml-1">{{ contact_content.form.email_label }}</label>
                    <input type="email" placeholder="{{ contact_content.form.email_placeholder }}" class="w-full bg-white/50 border border-border rounded-xl px-6 py-4 focus:outline-none focus:border-accent transition-all text-sm">
                </div>
            </div>

            <div class="space-y-2">
                <label class="text-[10px] font-bold uppercase tracking-widest text-muted-foreground ml-1">{{ contact_content.form.subject_label }}</label>
                <select class="w-full bg-white/50 border border-border rounded-xl px-6 py-4 focus:outline-none focus:border-accent transition-all text-sm appearance-none">
                    {% for option in contact_content.form.subject_options %}
                    <option>{{ option }}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="space-y-2">
                <label class="text-[10px] font-bold uppercase tracking-widest text-muted-foreground ml-1">{{ contact_content.form.message_label }}</label>
                <textarea rows="6" placeholder="{{ contact_content.form.message_placeholder }}" class="w-full bg-white/50 border border-border rounded-xl px-6 py-4 focus:outline-none focus:border-accent transition-all text-sm"></textarea>
            </div>

            <button type="submit" class="w-full bg-accent text-white rounded-xl px-8 py-5 font-bold text-sm tracking-[0.2em] uppercase hover:bg-texts hover:shadow-2xl transition-all duration-300 transform active:scale-[0.98]">
                {{ contact_content.form.submit_text }}
            </button>
        </form>
    </div>

    <!-- Contact Information (Second on Mobile, First on Desktop) -->
    <div class="space-y-12 lg:order-1">
        <div>
            <h3 class="text-2xl font-serif font-bold text-foreground mb-8">{{ contact_content.info.title }}</h3>
            <div class="space-y-8">
                {% for item in contact_content.info.items %}
                <div class="flex items-start space-x-6 group">
                    <div class="w-12 h-12 rounded-2xl bg-white shadow-lg flex items-center justify-center text-accent group-hover:bg-accent group-hover:text-white transition-all duration-300">
                        {{ item.icon|safe }}
                    </div>
                    <div>
                        <p class="text-[10px] font-bold uppercase tracking-widest text-muted-foreground mb-1">{{ item.label }}</p>
                        <p class="text-lg font-bold text-foreground">{{ item.value }}</p>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>

        {% if contact_content.info.map %}
        <div class="p-8 bg-white/40 backdrop-blur-xl rounded-3xl border border-border shadow-xl overflow-hidden relative min-h-75">
            {% if company and company.osm_embed_url %}
                <iframe
                    src="{{ company.osm_embed_url }}"
                    class="absolute inset-0 w-full h-full border-0 grayscale hover:grayscale-0 transition-all duration-300"
                    loading="lazy"
                    title="Office location of {{ company.trading_name }}"
                    sandbox="allow-scripts allow-same-origin">
                </iframe>
                <a href="{{ company.osm_full_url }}" target="_blank" rel="noopener noreferrer"
                   class="absolute inset-0 z-10" title="View larger map"></a>
                <div class="absolute bottom-0 left-0 right-0 bg-black/50 text-white text-[9px] font-bold uppercase tracking-widest text-center py-1 pointer-events-none">
                    {{ company.city }}{% if company.county %}, {{ company.county }}{% endif %}
                </div>
            {% elif contact_content.info.map.image_url %}
                <img src="{{ contact_content.info.map.image_url }}" alt="{{ contact_content.info.map.alt_text }}" class="absolute inset-0 w-full h-full object-cover grayscale opacity-50">
                <div class="relative z-10 h-full flex items-center justify-center">
                    <div class="bg-white/80 backdrop-blur-md px-6 py-3 rounded-full text-xs font-bold uppercase tracking-widest shadow-lg">
                        {{ contact_content.info.map.label }}
                    </div>
                </div>
            {% else %}
                <div class="absolute inset-0 bg-muted/20 animate-pulse"></div>
                <div class="relative z-10 h-full flex items-center justify-center">
                    <div class="bg-white/80 backdrop-blur-md px-6 py-3 rounded-full text-xs font-bold uppercase tracking-widest shadow-lg">
                        {{ contact_content.info.map.label }}
                    </div>
                </div>
            {% endif %}
        </div>
        {% endif %}
    </div>
</div>
{% endif %}