{% if portfolio_projects %}
<div class="flex flex-wrap gap-4 mb-16 border-b border-border pb-8">
    {% for filter in portfolio_projects.filters %}
    <button class="px-6 py-2 rounded-full text-sm font-bold transition-all {% if forloop.first %}bg-foreground text-background{% else %}bg-muted text-muted-foreground hover:bg-muted/80{% endif %}">{{ filter }}</button>
    {% endfor %}
</div>

<div class="grid grid-cols-1 lg:grid-cols-2 gap-16">
    {% for project in portfolio_projects.projects %}
    <div class="group cursor-pointer">
        <div class="relative aspect-[16/10] overflow-hidden rounded-2xl mb-8">
            {% if project.image_url %}
            <img src="{{ project.image_url }}" alt="{{ project.title }}" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-1000" />
            {% endif %}
            <div class="absolute inset-0 bg-foreground/20 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-maximize-2 text-background w-12 h-12" aria-hidden="true">
                    <path d="M15 3h6v6"></path>
                    <path d="m21 3-7 7"></path>
                    <path d="m3 21 7-7"></path>
                    <path d="M9 21H3v-6"></path>
                </svg>
            </div>
            {% if project.status %}
            <div class="absolute top-6 left-6 bg-accent/90 backdrop-blur px-4 py-1.5 text-xs font-black uppercase tracking-[0.2em] text-white rounded">{{ project.status }}</div>
            {% endif %}
        </div>
        <div class="flex justify-between items-start">
            <div>
                <h3 class="text-3xl font-serif font-bold text-foreground mb-2 group-hover:text-accent transition-colors">{{ project.title }}</h3>
                <div class="flex items-center text-muted-foreground font-medium">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-map-pin w-4 h-4 mr-2 text-accent" aria-hidden="true">
                        <path d="M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"></path>
                        <circle cx="12" cy="10" r="3"></circle>
                    </svg>
                    {{ project.location }}
                </div>
            </div>
        </div>
        {% if project.description %}
        <p class="mt-6 text-muted-foreground leading-relaxed text-lg max-w-xl">{{ project.description }}</p>
        {% endif %}
    </div>
    {% endfor %}
</div>
{% endif %}